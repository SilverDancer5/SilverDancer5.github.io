<!DOCTYPE html>












  


<html class="theme-next gemini use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.1.1">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.1.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/myfavicon-32x32-next.png?v=7.1.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/myfavicon-32x32-next.png?v=7.1.1">


  <link rel="mask-icon" href="/images/logo.svg?v=7.1.1" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.1.1',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="OpenCV的学习笔记">
<meta name="keywords" content="OpenCV3.3">
<meta property="og:type" content="article">
<meta property="og:title" content="OpenCV3.3的学习">
<meta property="og:url" content="http://yoursite.com/2019/05/19/OpenCV学习/index.html">
<meta property="og:site_name" content="SilverDancer的博客">
<meta property="og:description" content="OpenCV的学习笔记">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2019-05-20T01:03:00.703Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="OpenCV3.3的学习">
<meta name="twitter:description" content="OpenCV的学习笔记">





  
  
  <link rel="canonical" href="http://yoursite.com/2019/05/19/OpenCV学习/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>OpenCV3.3的学习 | SilverDancer的博客</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">SilverDancer的博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">学会思考，停止盲从</p>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-主页">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>主页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-关于">

    
    
    
      
    

    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>关于</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-标签">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-分类">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-归档">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>

  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/19/OpenCV学习/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="SilverDancer">
      <meta itemprop="description" content="心之所向，素履以往">
      <meta itemprop="image" content="/images/myAvatar.JPG#/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SilverDancer的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">OpenCV3.3的学习

              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-05-19 14:19:24" itemprop="dateCreated datePublished" datetime="2019-05-19T14:19:24+08:00">2019-05-19</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-05-20 09:03:00" itemprop="dateModified" datetime="2019-05-20T09:03:00+08:00">2019-05-20</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/OpenCV/" itemprop="url" rel="index"><span itemprop="name">OpenCV</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="post-meta-item-icon">
            <i class="fa fa-eye"></i>
             阅读次数： 
            <span class="busuanzi-value" id="busuanzi_value_page_pv"></span>
            </span>
          

          

          
            <div class="post-description">OpenCV的学习笔记</div>
          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="OpenCV-3-3基础-Python版本"><a href="#OpenCV-3-3基础-Python版本" class="headerlink" title="OpenCV 3.3基础 Python版本"></a><strong>OpenCV 3.3基础 Python版本</strong></h1><h1 id="图像加载与保存"><a href="#图像加载与保存" class="headerlink" title="图像加载与保存"></a>图像加载与保存</h1><h3 id="基本调用"><a href="#基本调用" class="headerlink" title="基本调用"></a>基本调用</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2 <span class="keyword">as</span> cv</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">src = cv.imread(<span class="string">"E:/Pycharm/opencvTest/picture/0.jpg"</span>)</span><br><span class="line">cv.namedWindow(<span class="string">"input image"</span>, cv.WINDOW_AUTOSIZE)</span><br><span class="line">cv.imshow(<span class="string">"input image"</span>, src)</span><br><span class="line">get_img_info(src)</span><br><span class="line"><span class="comment"># video_demo()</span></span><br><span class="line">gray = cv.cvtColor(src, cv.COLOR_BGR2GRAY)</span><br><span class="line">cv.imwrite(<span class="string">"E:/Pycharm/opencvTest/picture/demo.jpg"</span>, gray)</span><br><span class="line">cv.waitKey(<span class="number">0</span>)<span class="comment">#无限等待指导按下键盘任意按键</span></span><br><span class="line"></span><br><span class="line">cv.destroyAllWindows()</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h3 id="获取图片信息"><a href="#获取图片信息" class="headerlink" title="获取图片信息"></a>获取图片信息</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#  获取图片信息</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_img_info</span><span class="params">(image)</span>:</span></span><br><span class="line">    print(type(image))</span><br><span class="line">    print(image.shape)</span><br><span class="line">    print(image.size)</span><br><span class="line">    print(image.dtype)</span><br><span class="line">    pixel_data = np.array(image)</span><br><span class="line">    print(pixel_data)</span><br></pre></td></tr></table></figure>
<h3 id="调用摄像头"><a href="#调用摄像头" class="headerlink" title="调用摄像头"></a>调用摄像头</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 调用摄像头</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">video_demo</span><span class="params">()</span>:</span></span><br><span class="line">    capture = cv.VideoCapture(<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">True</span>):</span><br><span class="line">        ret, frame = capture.read()</span><br><span class="line">        frame = cv.flip(frame, <span class="number">1</span>)<span class="comment">#  颠倒画面</span></span><br><span class="line">        cv.imshow(<span class="string">"video"</span>, frame)</span><br><span class="line">        c = cv.waitKey(<span class="number">50</span>)</span><br><span class="line">        <span class="keyword">if</span> c == <span class="number">27</span>: <span class="comment">#esc按键的ASCll码</span></span><br><span class="line">            <span class="keyword">break</span></span><br></pre></td></tr></table></figure>
<h3 id="色彩转换"><a href="#色彩转换" class="headerlink" title="色彩转换"></a>色彩转换</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">inverse</span><span class="params">(image)</span>:</span></span><br><span class="line">    dst = cv.bitwise_not(image)</span><br><span class="line">    cv.imshow(<span class="string">"inverse"</span>, dst)</span><br></pre></td></tr></table></figure>
<h3 id="获取运行时间"><a href="#获取运行时间" class="headerlink" title="获取运行时间"></a>获取运行时间</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">t1 = cv.getTickCount()</span><br><span class="line"><span class="string">''''''</span></span><br><span class="line">要执行的代码</span><br><span class="line"><span class="string">''''''</span></span><br><span class="line">t2 = cv.getTickCount()</span><br><span class="line">time = (t2-t1)/cv.getTickFrequency() <span class="comment">#计算</span></span><br></pre></td></tr></table></figure>
<h3 id="创建图片"><a href="#创建图片" class="headerlink" title="创建图片"></a>创建图片</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">create_image</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    img = np.zeros([400, 400, 3], np.uint8)</span></span><br><span class="line"><span class="string">    img[: , : , 0] = np.ones([400, 400]) * 255</span></span><br><span class="line"><span class="string">    cv.imshow("new img", img)</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    img = np.zeros([<span class="number">400</span>, <span class="number">400</span>, <span class="number">1</span>], np.uint8)</span><br><span class="line">    img[:, :, <span class="number">0</span>] = np.ones([<span class="number">400</span>, <span class="number">400</span>]) * <span class="number">127</span></span><br><span class="line">    cv.imshow(<span class="string">"new img"</span>, img)</span><br><span class="line"></span><br><span class="line">    m1 = np.ones([<span class="number">3</span>, <span class="number">3</span>], np.uint8)</span><br><span class="line">    m1.fill(<span class="number">12222.3888</span>) <span class="comment">#  填充数组</span></span><br><span class="line"></span><br><span class="line">    m2 = m1.reshape([<span class="number">1</span>, <span class="number">9</span>]) <span class="comment">#  重建</span></span><br></pre></td></tr></table></figure>
<h2 id="色彩空间"><a href="#色彩空间" class="headerlink" title="色彩空间"></a>色彩空间</h2><h3 id="色彩通道分离与合并"><a href="#色彩通道分离与合并" class="headerlink" title="色彩通道分离与合并"></a>色彩通道分离与合并</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#色彩分离</span></span><br><span class="line">b, g, r = cv.split(image)</span><br><span class="line">cv.imshow(<span class="string">"blue"</span>, b)</span><br><span class="line">cv.imshow(<span class="string">"green"</span>, b)</span><br><span class="line">cv.imshow(<span class="string">"red"</span>, r)</span><br><span class="line"></span><br><span class="line">src[:, :, :<span class="number">2</span>] = <span class="number">0</span> <span class="comment">#对通道单独赋值</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#通道的合并</span></span><br><span class="line">image = cv.merge([b, g, r])</span><br></pre></td></tr></table></figure>
<h3 id="色彩空间相互转换"><a href="#色彩空间相互转换" class="headerlink" title="色彩空间相互转换"></a>色彩空间相互转换</h3><h4 id="HSV颜色系统简介"><a href="#HSV颜色系统简介" class="headerlink" title="HSV颜色系统简介"></a>HSV颜色系统简介</h4><p>H——Hue即色相，就是我们平时所说的红、绿，如果你分的更细的话可能还会有洋红、草绿等等；在HSV模型中，用度数来描述色相，其中红色对应0度，绿色对应120度，蓝色对应240度。</p>
<p>S——Saturation即饱和度，色彩的深浅度(0-100%) ，对于一种颜色比如红色，我们可以用浅红——大红——深红——红得发紫等等语言来描述它（请原谅一个纯理科生的匮乏的颜色系统），对应在画水彩的时候即一种颜料加上不同分量的水形成不同的饱和度。</p>
<p> V——Value即色调，纯度，色彩的亮度(0-100%) ，这个在调整屏幕亮度的时候比较常见。</p>
<p>在OPenCV中hsv 取值范围<br>H：0~180<br>S：0~255<br>V：0~255</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2 <span class="keyword">as</span> cv</span><br><span class="line"></span><br><span class="line"><span class="comment"># 色彩空间相互转换</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">color_space_demo</span><span class="params">(image)</span>:</span></span><br><span class="line">    gray = cv.cvtColor(image, cv.COLOR_BGR2GRAY)</span><br><span class="line">    cv.imshow(<span class="string">"gray"</span>, gray)</span><br><span class="line">    hsv = cv.cvtColor(image, cv.COLOR_BGR2GRAY)</span><br><span class="line">    cv.imshow(<span class="string">"hsv"</span>, hsv)</span><br><span class="line">    yuv = cv.cvtColor(image, cv.COLOR_BGR2YUV)</span><br><span class="line">    cv.imshow(<span class="string">"yuv"</span>, yuv)</span><br><span class="line">    ycrcb = cv.cvtColor(image, cv.COLOR_BGR2YCrCb)</span><br><span class="line">    cv.imshow(<span class="string">"ycrcb"</span>, ycrcb)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">src = cv.imread(<span class="string">"E:/Pycharm/opencvTest/picture/princess.jpg"</span>)</span><br><span class="line">cv.namedWindow(<span class="string">"input image"</span>, cv.WINDOW_AUTOSIZE)</span><br><span class="line">cv.imshow(<span class="string">"input image"</span>, src)</span><br><span class="line"></span><br><span class="line">color_space_demo(src)</span><br><span class="line"></span><br><span class="line">cv.waitKey(<span class="number">0</span>)</span><br><span class="line">cv.destroyAllWindows()</span><br></pre></td></tr></table></figure>
<h3 id="inRange的简单使用"><a href="#inRange的简单使用" class="headerlink" title="inRange的简单使用"></a>inRange的简单使用</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">extrace_object_demo</span><span class="params">()</span>:</span></span><br><span class="line">    hsv = cv.cvtColor(frame, cv.COLOR_BGR2HSV)</span><br><span class="line">    lower_hsv = np.array([<span class="number">37</span>,<span class="number">43</span>,<span class="number">46</span>])</span><br><span class="line">    uper_hsv = np.array([<span class="number">77</span>, <span class="number">255</span>, <span class="number">255</span>])</span><br><span class="line">    cv.inRange(hsv, lowerb=lower_hsv, upperb=uper_hsv)</span><br></pre></td></tr></table></figure>
<h1 id="像素运算"><a href="#像素运算" class="headerlink" title="像素运算"></a>像素运算</h1><h3 id="图片的加减乘除以及均值方差"><a href="#图片的加减乘除以及均值方差" class="headerlink" title="图片的加减乘除以及均值方差"></a>图片的加减乘除以及均值方差</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add_demo</span><span class="params">(m1, m2)</span>:</span></span><br><span class="line">    dst = cv.add(m1,m2)</span><br><span class="line">    cv.imshow(<span class="string">"add_demo"</span>, dst)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">subtract_demo</span><span class="params">(m1, m2)</span>:</span></span><br><span class="line">    dst = cv.subtract(m1,m2)</span><br><span class="line">    cv.imshow(<span class="string">"subtract_demo"</span>, dst)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">divide_demo</span><span class="params">(m1, m2)</span>:</span></span><br><span class="line">    dst = cv.divide(m1,m2)</span><br><span class="line">    cv.imshow(<span class="string">"divide_demo"</span>, dst)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">multiply_demo</span><span class="params">(m1, m2)</span>:</span></span><br><span class="line">    dst = cv.multiply(m1,m2)</span><br><span class="line">    cv.imshow(<span class="string">"multiply_demo"</span>, dst)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">others</span><span class="params">(m1, m2)</span>:</span></span><br><span class="line">    <span class="comment"># 算均值与方差</span></span><br><span class="line">    M1, dev = cv.meanStdDev(m1)</span><br><span class="line">    M2, dev = cv.meanStdDev(m2)</span><br><span class="line">    h, w = m1.shape[:<span class="number">2</span>]</span><br><span class="line">    print(M1)</span><br><span class="line">    print(M2)</span><br><span class="line"></span><br><span class="line">    img = np.zeros([h,w], np.uint8)</span><br><span class="line">    m, dev = cv.meanStdDev(img)</span><br><span class="line">    print(m)</span><br><span class="line">    print(dev)</span><br></pre></td></tr></table></figure>
<h1 id="ROI与泛洪填充"><a href="#ROI与泛洪填充" class="headerlink" title="ROI与泛洪填充"></a>ROI与泛洪填充</h1><h2 id="ROI（Region-of-Interest）"><a href="#ROI（Region-of-Interest）" class="headerlink" title="ROI（Region of Interest）"></a>ROI（Region of Interest）</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2 <span class="keyword">as</span> cv</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(<span class="string">"------------------------hello world----------------------------"</span>)</span><br><span class="line">src = cv.imread(<span class="string">"E:/Pycharm/opencvTest/princess.jpg"</span>)</span><br><span class="line">cv.imshow(<span class="string">"example"</span>, src)</span><br><span class="line">print(src.shape)</span><br><span class="line"></span><br><span class="line">face = src[<span class="number">100</span>:<span class="number">800</span>, <span class="number">100</span>:<span class="number">550</span>]</span><br><span class="line">gray = cv.cvtColor(face, cv.COLOR_BGR2GRAY)</span><br><span class="line">backFace = cv.cvtColor(gray, cv.COLOR_GRAY2BGR)</span><br><span class="line">src[<span class="number">100</span>:<span class="number">800</span>, <span class="number">100</span>:<span class="number">550</span>] = backFace</span><br><span class="line">cv.imshow(<span class="string">"face"</span>, src)</span><br><span class="line"></span><br><span class="line">cv.waitKey(<span class="number">0</span>)</span><br><span class="line">cv.destroyAllWindows()</span><br></pre></td></tr></table></figure>
<h2 id="泛洪填充"><a href="#泛洪填充" class="headerlink" title="泛洪填充"></a>泛洪填充</h2><p>FLOODFILL_FIXED_RANGE<br>改变图像，泛洪填充</p>
<p>FLOODFILL_MASK_ONLY<br>不改变图像，只填充遮罩层本身，忽略新的颜色值参数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fill_color_demo</span><span class="params">(image)</span>:</span></span><br><span class="line">    copyImg = image.copy()</span><br><span class="line">    h, w = image.shape[:<span class="number">2</span>]</span><br><span class="line">    mask = np.zeros([h+<span class="number">2</span>, w+<span class="number">2</span>], np.uint8)</span><br><span class="line">    <span class="comment">#起始种子点，填充颜色，最低范围（种子-）， 最高范围（种子+）</span></span><br><span class="line">    cv.floodFill(copyImg, mask, (<span class="number">30</span>, <span class="number">30</span>), (<span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>), (<span class="number">100</span>, <span class="number">100</span>, <span class="number">100</span>), (<span class="number">30</span>, <span class="number">30</span>, <span class="number">30</span>), cv.FLOODFILL_FIXED_RANGE)</span><br><span class="line">    cv.imshow(<span class="string">"fill_color_demo"</span>, copyImg)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fill_binary</span><span class="params">()</span>:</span></span><br><span class="line">    image = np.zeros([<span class="number">400</span>, <span class="number">400</span>, <span class="number">3</span>], np.uint8)</span><br><span class="line">    image[<span class="number">100</span>:<span class="number">300</span>, <span class="number">100</span>:<span class="number">300</span>, :] = <span class="number">255</span></span><br><span class="line">    cv.imshow(<span class="string">"fill_binary"</span>, image)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#非填充区域一定要初始化为1</span></span><br><span class="line">    mask = np.ones([<span class="number">402</span>, <span class="number">402</span>, <span class="number">1</span>], np.uint8)</span><br><span class="line">    <span class="comment">#填充区域初始化为0</span></span><br><span class="line">    mask[<span class="number">101</span>:<span class="number">301</span>, <span class="number">101</span>:<span class="number">301</span>] = <span class="number">0</span></span><br><span class="line">    cv.floodFill(image, mask, (<span class="number">200</span>, <span class="number">200</span>), (<span class="number">100</span>, <span class="number">2</span>, <span class="number">255</span>), cv.FLOODFILL_MASK_ONLY)</span><br><span class="line">    cv.imshow(<span class="string">"fill_binary_after"</span>, image)</span><br></pre></td></tr></table></figure>
<h1 id="模糊操作"><a href="#模糊操作" class="headerlink" title="模糊操作"></a>模糊操作</h1><h2 id="均值模糊"><a href="#均值模糊" class="headerlink" title="均值模糊"></a>均值模糊</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 均值模糊</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">blur_demo</span><span class="params">(image)</span>:</span></span><br><span class="line">    dst = cv.blur(image, (<span class="number">5</span>,<span class="number">5</span>))</span><br><span class="line">    cv.imshow(<span class="string">"blur_demo"</span>, dst)</span><br></pre></td></tr></table></figure>
<h2 id="中值模糊"><a href="#中值模糊" class="headerlink" title="中值模糊"></a>中值模糊</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 中值模糊(去除椒盐噪声）</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">median_blur_demo</span><span class="params">(image)</span>:</span></span><br><span class="line">    dst = cv.medianBlur(image, (<span class="number">5</span>,<span class="number">5</span>))</span><br><span class="line">    cv.imshow(<span class="string">"median_demo"</span>, dst)</span><br></pre></td></tr></table></figure>
<h2 id="自定义模糊"><a href="#自定义模糊" class="headerlink" title="自定义模糊"></a>自定义模糊</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#自定义模糊</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">custom_blur_demo</span><span class="params">(image)</span>:</span></span><br><span class="line">    <span class="comment">#模糊 </span></span><br><span class="line">   <span class="comment"># kernel = np.ones([5, 5], np.float32)/25 #/25防止溢出</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">#锐化</span></span><br><span class="line">    kernel = np.array([[<span class="number">0</span>, <span class="number">-1</span>, <span class="number">0</span>], [<span class="number">-1</span>, <span class="number">5</span>, <span class="number">-1</span>], [<span class="number">0</span>, <span class="number">-1</span>, <span class="number">0</span>]], np.float32) </span><br><span class="line">    dst = cv.filter2D(image, <span class="number">-1</span>, kernel=kernel)</span><br><span class="line">    cv.imshow(<span class="string">"custom_blur_demo"</span>, dst)</span><br></pre></td></tr></table></figure>
<h2 id="高斯模糊"><a href="#高斯模糊" class="headerlink" title="高斯模糊"></a>高斯模糊</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#高斯模糊</span></span><br><span class="line">dst = cv.GaussianBlur(src, (<span class="number">5</span>, <span class="number">5</span>), <span class="number">15</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#高斯模糊对高斯噪声有抑制作用</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gaussian_noise</span><span class="params">(image)</span>:</span></span><br><span class="line">    h, w, c = image.shape</span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> range(h):</span><br><span class="line">        <span class="keyword">for</span> col <span class="keyword">in</span> range(w):</span><br><span class="line">            s = np.random.normal(<span class="number">0</span>, <span class="number">20</span>, <span class="number">3</span>)</span><br><span class="line">            b = image[row, col, <span class="number">0</span>]</span><br><span class="line">            g = image[row, col, <span class="number">1</span>]</span><br><span class="line">            r = image[row, col, <span class="number">2</span>]</span><br><span class="line">            image[row, col, <span class="number">0</span>] = clamp(b + s[<span class="number">0</span>])</span><br><span class="line">            image[row, col, <span class="number">1</span>] = clamp(g + s[<span class="number">1</span>])</span><br><span class="line">            image[row, col, <span class="number">2</span>] = clamp(r + s[<span class="number">2</span>])</span><br><span class="line">    cv.imshow(<span class="string">"noise image"</span>, image)</span><br></pre></td></tr></table></figure>
<h2 id="边缘保留滤波（EPF）"><a href="#边缘保留滤波（EPF）" class="headerlink" title="边缘保留滤波（EPF）"></a>边缘保留滤波（EPF）</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># （类似磨皮）</span></span><br><span class="line"><span class="comment">#EPF</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bi_demo</span><span class="params">(image)</span>:</span></span><br><span class="line">    dst = cv.bilateralFilter(image, <span class="number">0</span>, <span class="number">100</span>, <span class="number">15</span>)</span><br><span class="line">    cv.imshow(<span class="string">"bi_demo"</span>, dst)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 漂移模糊（类似油画）</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">shift_demo</span><span class="params">(image)</span>:</span></span><br><span class="line">    dst = cv.pyrMeanShiftFiltering(image, <span class="number">10</span>, <span class="number">50</span>)</span><br><span class="line">    cv.imshow(<span class="string">"bi_demo"</span>, dst)</span><br></pre></td></tr></table></figure>
<h1 id="图像直方图（histogram）"><a href="#图像直方图（histogram）" class="headerlink" title="图像直方图（histogram）"></a>图像直方图（histogram）</h1><p>bin的大小 = 图像中不同像素值的个数 / bin的数目</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">plot_demo</span><span class="params">(image)</span>:</span></span><br><span class="line">    plt.hist(image.ravel(), <span class="number">256</span>, [<span class="number">0</span>,<span class="number">256</span>]) <span class="comment">#</span></span><br><span class="line">    plt.show(<span class="string">"直方图"</span>, )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">#自行绘制直方图</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">image_hist</span><span class="params">(image)</span>:</span></span><br><span class="line">    color = (<span class="string">"blue"</span>, <span class="string">"green"</span>, <span class="string">"red"</span>)</span><br><span class="line">    <span class="keyword">for</span> i, color <span class="keyword">in</span> enumerate(color):</span><br><span class="line">        hist = cv.calcHist([image], [i], <span class="literal">None</span>, [<span class="number">256</span>], [<span class="number">0</span>, <span class="number">256</span>])</span><br><span class="line">        plt.plot(hist, color=color)</span><br><span class="line">        plt.xlim([<span class="number">0</span>, <span class="number">255</span>])</span><br><span class="line">    plt.show()</span><br></pre></td></tr></table></figure>
<h3 id="绘制直方图"><a href="#绘制直方图" class="headerlink" title="绘制直方图"></a>绘制直方图</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#全局</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">equalHist_demo</span><span class="params">(image)</span>:</span></span><br><span class="line">    gray = cv.cvtColor(image, cv.COLOR_BGR2GRAY)</span><br><span class="line">    dst = cv.equalizeHist(gray)</span><br><span class="line">    cv.imshow(<span class="string">"equalHist_demo"</span>, dst)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 局部增强</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">clahe_demo</span><span class="params">(image)</span>:</span></span><br><span class="line">    gray = cv.cvtColor(image, cv.COLOR_BGR2GRAY)</span><br><span class="line">    clahe = cv.createCLAHE(clipLimit=<span class="number">2.0</span>, tileGridSize=(<span class="number">8</span>,<span class="number">8</span>))</span><br><span class="line">    dst = clahe.apply(gray)</span><br><span class="line">    cv.imshow(<span class="string">"clahe_demo"</span>, dst)</span><br></pre></td></tr></table></figure>
<h3 id="直方图的应用"><a href="#直方图的应用" class="headerlink" title="直方图的应用"></a>直方图的应用</h3><p>通过巴氏距离， 相关性， 卡方可以确定两张图片的是否相似</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">creat_rgb_hist</span><span class="params">(image)</span>:</span></span><br><span class="line">    h, w, c = image.shape</span><br><span class="line">    rgbHist = np.zeros([<span class="number">16</span>*<span class="number">16</span>*<span class="number">16</span>, <span class="number">1</span>], np.float32)</span><br><span class="line">    bsize = <span class="number">256</span> / <span class="number">16</span></span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> range(h):</span><br><span class="line">        <span class="keyword">for</span> col <span class="keyword">in</span> range(w):</span><br><span class="line">            b = image[row, col, <span class="number">0</span>]</span><br><span class="line">            g = image[row, col, <span class="number">1</span>]</span><br><span class="line">            r = image[row, col, <span class="number">2</span>]</span><br><span class="line">            index = np.int(b/bsize)*<span class="number">16</span>*<span class="number">16</span> + np.int(g/bsize)*<span class="number">16</span> + np.int(r/bsize)</span><br><span class="line">            rgbHist[np.int(index), <span class="number">0</span>] = rgbHist[np.int(index), <span class="number">0</span>] + <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span>  rgbHist</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hist_compare</span><span class="params">(image1, image2)</span>:</span></span><br><span class="line">    his1 = creat_rgb_hist(image1)</span><br><span class="line">    hist2 = creat_rgb_hist(image2)</span><br><span class="line">    match1 = cv.compareHist(his1, hist2, cv.HISTCMP_BHATTACHARYYA)</span><br><span class="line">    match2 = cv.compareHist(his1, hist2, cv.HISTCMP_CORREL)</span><br><span class="line">    match3 = cv.compareHist(his1, hist2, cv.HISTCMP_CHISQR)</span><br><span class="line">    print(<span class="string">"巴氏距离：%s 相关性：%s 卡方：%s"</span>, match1, match2, match3)</span><br></pre></td></tr></table></figure>
<h2 id="直方图反向投影"><a href="#直方图反向投影" class="headerlink" title="直方图反向投影"></a>直方图反向投影</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">back_projection_demo</span><span class="params">()</span>:</span></span><br><span class="line">    sampel = cv.imread(<span class="string">"E:/Pycharm/opencvTest/sample.png"</span>)</span><br><span class="line">    target = cv.imread(<span class="string">"E:/Pycharm/opencvTest/target.jpg"</span>)</span><br><span class="line">    sample_hsv = cv.cvtColor(sampel, cv.COLOR_BGR2HSV)</span><br><span class="line">    target_hsv = cv.cvtColor(target, cv.COLOR_BGR2HSV)</span><br><span class="line"></span><br><span class="line">    cv.imshow(<span class="string">"sample"</span>, sampel)</span><br><span class="line">    cv.imshow(<span class="string">"target"</span>, target)</span><br><span class="line"></span><br><span class="line">    sampleHist = cv.calcHist([sample_hsv], [<span class="number">0</span>,<span class="number">1</span>], <span class="literal">None</span>, [<span class="number">32</span>, <span class="number">32</span>], [<span class="number">0</span>, <span class="number">180</span>, <span class="number">0</span>, <span class="number">256</span>])</span><br><span class="line">    cv.normalize(sampleHist, sampleHist, <span class="number">0</span>, <span class="number">255</span>, cv.NORM_MINMAX)</span><br><span class="line">    dst = cv.calcBackProject([target_hsv], [<span class="number">0</span>,<span class="number">1</span>], sampleHist, [<span class="number">0</span>, <span class="number">100</span>, <span class="number">0</span>, <span class="number">256</span>], <span class="number">1</span>)</span><br><span class="line">    cv.imshow(<span class="string">"backProjection"</span>, dst)</span><br></pre></td></tr></table></figure>
<h1 id="模板匹配"><a href="#模板匹配" class="headerlink" title="模板匹配"></a>模板匹配</h1><h1 id="图像二值化"><a href="#图像二值化" class="headerlink" title="图像二值化"></a>图像二值化</h1><h2 id="全局阈值"><a href="#全局阈值" class="headerlink" title="全局阈值"></a>全局阈值</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#全局阈值</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">threshold_demo</span><span class="params">(image)</span>:</span></span><br><span class="line">    gray = cv.cvtColor(image, cv.COLOR_BGR2GRAY)</span><br><span class="line">    <span class="comment"># ret, binary = cv.threshold(gray, 0, 255, cv.THRESH_BINARY | cv.THRESH_OTSU)#常用</span></span><br><span class="line">    <span class="comment"># ret, binary = cv.threshold(gray, 0, 255, cv.THRESH_BINARY | cv.THRESH_TRIANGLE)</span></span><br><span class="line">    ret, binary = cv.threshold(gray, <span class="number">50</span>, <span class="number">255</span>, cv.THRESH_BINARY)<span class="comment">#</span></span><br><span class="line">    <span class="comment"># ret, binary = cv.threshold(gray, 127, 255, cv.THRESH_BINARY | cv.THRESH_TRUNC)</span></span><br><span class="line">    <span class="comment"># ret, binary = cv.threshold(gray, 127, 255, cv.THRESH_BINARY | cv.THRESH_TOZERO)</span></span><br><span class="line">    print(<span class="string">'threshold value %s'</span>%ret )</span><br><span class="line">    cv.imshow(<span class="string">"binary"</span>, binary)</span><br></pre></td></tr></table></figure>
<h2 id="局部阈值"><a href="#局部阈值" class="headerlink" title="局部阈值"></a>局部阈值</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#局部阈值</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">local_threshold_demo</span><span class="params">(image)</span>:</span></span><br><span class="line">    gray = cv.cvtColor(image, cv.COLOR_BGR2GRAY)</span><br><span class="line">    <span class="comment"># binary = cv.adaptiveThreshold(gray, 255,cv.ADAPTIVE_THRESH_MEAN_C, cv.THRESH_BINARY, 25, 10)</span></span><br><span class="line">    binary = cv.adaptiveThreshold(gray, <span class="number">255</span>, cv.ADAPTIVE_THRESH_GAUSSIAN_C, cv.THRESH_BINARY, <span class="number">25</span>, <span class="number">10</span>)  <span class="comment">#（图文扫描比较好）</span></span><br><span class="line">    cv.imshow(<span class="string">"binary"</span>, binary)</span><br></pre></td></tr></table></figure>
<h2 id="超大图像的二值化处理"><a href="#超大图像的二值化处理" class="headerlink" title="超大图像的二值化处理"></a>超大图像的二值化处理</h2><p>1.分块<br>2.全局阈VS局部阈值<br>3.图像大小获取<br>4.图像ROI与空白图像过滤<br>5.图像二值化</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">big_image_binary</span><span class="params">(image)</span>:</span></span><br><span class="line">    cw = <span class="number">256</span></span><br><span class="line">    ch = <span class="number">256</span></span><br><span class="line">    h, w = image.shape[:<span class="number">2</span>]</span><br><span class="line">    gray = cv.cvtColor(image, cv.COLOR_BGR2GRAY)</span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> range(<span class="number">0</span>, h, ch):</span><br><span class="line">        <span class="keyword">for</span> col <span class="keyword">in</span> range(<span class="number">0</span>, w, cw):</span><br><span class="line">            roi = gray[row:row+ch, col:col+cw]</span><br><span class="line">            <span class="comment"># ret, dst = cv.threshold(roi, 0, 255, cv.THRESH_BINARY | cv.THRESH_OTSU)</span></span><br><span class="line">            dst = cv.adaptiveThreshold(roi, <span class="number">255</span>, cv.ADAPTIVE_THRESH_GAUSSIAN_C, cv.THRESH_BINARY, <span class="number">127</span>, <span class="number">20</span>)</span><br><span class="line">            gray[row:row + ch, col:cw+col] = dst</span><br><span class="line">            print(np.std(dst), np.mean(dst))</span><br><span class="line">    cv.imwrite(<span class="string">"E:/Pycharm/opencvTest/result_binary.jpg"</span>, gray)</span><br></pre></td></tr></table></figure>
<h2 id="二值化相机"><a href="#二值化相机" class="headerlink" title="二值化相机"></a>二值化相机</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2 <span class="keyword">as</span> cv</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">binary_mask</span><span class="params">(frame, x0, y0, width, height)</span>:</span></span><br><span class="line">    minValue = <span class="number">70</span></span><br><span class="line">    cv.rectangle(frame, (x0, y0), (x0+width, y0+height), (<span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>), <span class="number">1</span>)</span><br><span class="line">    roi = frame[y0: y0+height, x0: x0+width]</span><br><span class="line">    gray = cv.cvtColor(roi, cv.COLOR_BGR2GRAY)</span><br><span class="line">    blur = cv.GaussianBlur(gray, (<span class="number">5</span>, <span class="number">5</span>), <span class="number">2</span>)</span><br><span class="line">    th3 = cv.adaptiveThreshold(blur, <span class="number">255</span>, cv.ADAPTIVE_THRESH_GAUSSIAN_C, cv.THRESH_BINARY_INV, <span class="number">11</span>, <span class="number">2</span>)</span><br><span class="line">    ret, res = cv.threshold(th3, minValue, <span class="number">255</span>, cv.THRESH_BINARY_INV+cv.THRESH_OTSU)</span><br><span class="line">    <span class="keyword">return</span>  res</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 调用摄像头</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">video_demo</span><span class="params">()</span>:</span></span><br><span class="line">    capture = cv.VideoCapture(<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">True</span>):</span><br><span class="line">        ret, frame = capture.read()</span><br><span class="line">        frame = cv.flip(frame, <span class="number">1</span>)<span class="comment">#  颠倒画面</span></span><br><span class="line">        cv.imshow(<span class="string">"video"</span>, frame)</span><br><span class="line">        c = cv.waitKey(<span class="number">50</span>)</span><br><span class="line">        <span class="keyword">if</span> c == <span class="number">27</span>: <span class="comment">#esc按键的ASCll码</span></span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">src = cv.imread(<span class="string">"E:/Pycharm/opencvTest/princess.jpg"</span>)</span><br><span class="line"></span><br><span class="line">capture = cv.VideoCapture(<span class="number">0</span>)</span><br><span class="line"><span class="keyword">while</span>(<span class="literal">True</span>):</span><br><span class="line">    ret, frame = capture.read()</span><br><span class="line">    frame = cv.flip(frame, <span class="number">1</span>)</span><br><span class="line">    binary_frame = binary_mask(frame, <span class="number">100</span>, <span class="number">100</span>, <span class="number">1000</span>, <span class="number">1000</span>)</span><br><span class="line">    cv.imshow(<span class="string">"video"</span>, binary_frame)</span><br><span class="line">    c = cv.waitKey(<span class="number">50</span>)</span><br><span class="line">    <span class="keyword">if</span> c == <span class="number">27</span>:  <span class="comment"># esc按键的ASCll码</span></span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">cv.waitKey(<span class="number">0</span>)</span><br><span class="line">cv.destroyAllWindows()</span><br></pre></td></tr></table></figure>
<h1 id="图像金字塔"><a href="#图像金字塔" class="headerlink" title="图像金字塔"></a>图像金字塔</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">#图像金字塔reduce</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">pyramid_demo</span><span class="params">(image)</span>:</span></span><br><span class="line">    level = <span class="number">3</span></span><br><span class="line">    temp = image.copy()</span><br><span class="line">    pyramid_images = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(level):</span><br><span class="line">        dst = cv.pyrDown(temp)</span><br><span class="line">        pyramid_images.append(dst)</span><br><span class="line">        cv.imshow(<span class="string">"pyramid_down"</span> + str(i), dst)</span><br><span class="line">        temp = dst.copy()</span><br><span class="line">    <span class="keyword">return</span> pyramid_images</span><br><span class="line"></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">lapaliam_demo</span><span class="params">(image)</span>:</span></span><br><span class="line">    pyramid_images = pyramid_demo(image)</span><br><span class="line">    level = len(pyramid_images)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range (level<span class="number">-1</span>, <span class="number">-1</span>, <span class="number">-1</span>):</span><br><span class="line">        <span class="keyword">if</span> (i<span class="number">-1</span>) &lt; <span class="number">0</span>:</span><br><span class="line">            expand = cv.pyrUp(pyramid_images[i], dstsize=image.shape[:<span class="number">2</span>])</span><br><span class="line">            lpls = cv.subtract(image, expand)</span><br><span class="line">            cv.imshow(<span class="string">"lapaliam"</span> + str[i], lpls)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            expand = cv.pyrUp(pyramid_images[i], dstsize=pyramid_images[i - <span class="number">1</span>].shape[:<span class="number">2</span>])</span><br><span class="line">            lpls = cv.subtract(pyramid_images[i], expand)</span><br><span class="line">            cv.imshow(<span class="string">"lapaliam"</span> + str[i], lpls)</span><br></pre></td></tr></table></figure>
<h1 id="图像梯度"><a href="#图像梯度" class="headerlink" title="图像梯度"></a>图像梯度</h1><h2 id="索贝尔算子"><a href="#索贝尔算子" class="headerlink" title="索贝尔算子"></a>索贝尔算子</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment"># 索贝尔算子</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sobel_demo</span><span class="params">(image)</span>:</span></span><br><span class="line">    <span class="comment"># 索贝尔算子</span></span><br><span class="line">    <span class="comment"># grad_x = cv.Sobel(image, cv.CV_32F, 1, 0)</span></span><br><span class="line">    <span class="comment"># grad_y = cv.Sobel(image, cv.CV_32F, 0, 1)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Scharr算子，索贝尔算子的增强</span></span><br><span class="line">    grad_x = cv.Scharr(image, cv.CV_32F, <span class="number">1</span>, <span class="number">0</span>)</span><br><span class="line">    grad_y = cv.Scharr(image, cv.CV_32F, <span class="number">0</span>, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    gradx = cv.convertScaleAbs(grad_x)</span><br><span class="line">    grady = cv.convertScaleAbs(grad_y)</span><br><span class="line">    <span class="comment"># cv.imshow("grad_x", gradx)</span></span><br><span class="line">    <span class="comment"># cv.imshow("grad_y", grady)</span></span><br><span class="line">    gradxy = cv.addWeighted(gradx, <span class="number">0.5</span>, grady, <span class="number">0.5</span>, <span class="number">0</span>)</span><br><span class="line">    cv.imshow(<span class="string">"gradxy"</span>, gradxy)</span><br></pre></td></tr></table></figure>
<h2 id="拉普拉斯算子"><a href="#拉普拉斯算子" class="headerlink" title="拉普拉斯算子"></a>拉普拉斯算子</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">#拉普拉斯算子</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">lapalian_demo</span><span class="params">(image)</span>:</span></span><br><span class="line">    <span class="comment"># dst = cv.Laplacian(image, cv.CV_32F)#默认4邻域拉普拉斯算子</span></span><br><span class="line">    <span class="comment"># lpls = cv.convertScaleAbs(dst)</span></span><br><span class="line">    kernel = np.array([[<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>], [<span class="number">1</span>,<span class="number">-8</span>,<span class="number">1</span>], [<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>]])<span class="comment">#8邻域拉普拉斯算子</span></span><br><span class="line">    dst = cv.filter2D(image, cv.CV_32F, kernel=kernel)</span><br><span class="line">    lpls = cv.convertScaleAbs(dst)</span><br><span class="line">    cv.imshow(<span class="string">"lapalian_demo"</span>, lpls)</span><br></pre></td></tr></table></figure>
<h1 id="Canny边缘提取算法"><a href="#Canny边缘提取算法" class="headerlink" title="Canny边缘提取算法"></a>Canny边缘提取算法</h1><p>canny算法介绍</p>
<p>1.高斯模糊<br>2.灰度转换<br>3.计算梯度<br>4.非最大信号抑制<br>5.高低阈值输出二值图像</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">edge_demo</span><span class="params">(image)</span>:</span></span><br><span class="line">    blurred = cv.GaussianBlur(image, (<span class="number">3</span>,<span class="number">3</span>), <span class="number">0</span>)</span><br><span class="line">    gray = cv.cvtColor(blurred, cv.COLOR_BGR2GRAY)</span><br><span class="line">    <span class="comment">#梯度</span></span><br><span class="line">    xgrad = cv.Sobel(gray, cv.CV_16SC1, <span class="number">1</span>, <span class="number">0</span>)</span><br><span class="line">    ygrad = cv.Sobel(gray, cv.CV_16SC1, <span class="number">0</span>, <span class="number">1</span>)</span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment"># edge_output = cv.Canny(xgrad, ygrad, 50, 150)</span></span><br><span class="line">    <span class="comment">#或者直接使用gray</span></span><br><span class="line">    edge_output = cv.Canny(gray, <span class="number">50</span>, <span class="number">150</span>)</span><br><span class="line">    cv.imshow(<span class="string">"CannyEdge"</span>, edge_output)</span><br><span class="line"></span><br><span class="line">    dst = cv.bitwise_and(image, image, mask=edge_output)</span><br><span class="line">    cv.imshow(<span class="string">"color Edge"</span>, dst)</span><br></pre></td></tr></table></figure>
<h1 id="霍夫直线检测"><a href="#霍夫直线检测" class="headerlink" title="霍夫直线检测"></a>霍夫直线检测</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">line_detection</span><span class="params">(image)</span>:</span></span><br><span class="line">    gray = cv.cvtColor(image, cv.COLOR_BGR2GRAY)</span><br><span class="line">    edges = cv.Canny(gray, <span class="number">50</span>, <span class="number">150</span>, apertureSize=<span class="number">3</span>)</span><br><span class="line">    lines = cv.HoughLines(edges, <span class="number">1</span>, np.pi/<span class="number">180</span>, <span class="number">200</span>)</span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> lines:</span><br><span class="line">        rho, theta = line[<span class="number">0</span>]</span><br><span class="line">        a = np.cos(theta)</span><br><span class="line">        b = np.sin(theta)</span><br><span class="line">        x0 = a * rho</span><br><span class="line">        y0 = b * rho</span><br><span class="line">        x1 = int(x0 + <span class="number">1000</span> * (-b))</span><br><span class="line">        y1 = int(y0 + <span class="number">1000</span> * (a))</span><br><span class="line">        x2 = int(x0 - <span class="number">1000</span> * (-b))</span><br><span class="line">        y2 = int(y0 - <span class="number">1000</span> * (a))</span><br><span class="line">        cv.line(image, (x1,y1), (x2,y2), (<span class="number">0</span>,<span class="number">0</span>,<span class="number">255</span>), <span class="number">2</span>)</span><br><span class="line">    cv.imshow(<span class="string">"line"</span>, image)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">line_detect_possilbe_demo</span><span class="params">(image)</span>:</span></span><br><span class="line">    gray = cv.cvtColor(image, cv.COLOR_BGR2GRAY)</span><br><span class="line">    edges = cv.Canny(gray, <span class="number">50</span>, <span class="number">150</span>, apertureSize=<span class="number">3</span>)</span><br><span class="line">    lines = cv.HoughLinesP(edges, <span class="number">1</span>, np.pi / <span class="number">100</span>, <span class="number">100</span>, minLineLength=<span class="number">10</span>, maxLineGap=<span class="number">10</span>)</span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> lines:</span><br><span class="line">        x1, y1, x2, y2 = line[<span class="number">0</span>]</span><br><span class="line">        cv.line(image, (x1, y1), (x2, y2), (<span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>), <span class="number">2</span>)</span><br><span class="line">    cv.imshow(<span class="string">"line"</span>, image)</span><br></pre></td></tr></table></figure>
<h1 id="霍夫圆检测"><a href="#霍夫圆检测" class="headerlink" title="霍夫圆检测"></a>霍夫圆检测</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">detect_circles_demo</span><span class="params">(image)</span>:</span></span><br><span class="line">    dst = cv.pyrMeanShiftFiltering(image, <span class="number">10</span>, <span class="number">100</span>)<span class="comment"># 模糊操作去除噪声</span></span><br><span class="line">    cimage = cv.cvtColor(dst, cv.COLOR_BGR2GRAY)</span><br><span class="line">    circles = cv.HoughCircles(cimage, cv.HOUGH_GRADIENT, <span class="number">1</span>, <span class="number">20</span>, param1=<span class="number">50</span>, param2=<span class="number">30</span>, minRadius=<span class="number">0</span>, maxRadius=<span class="number">0</span>)</span><br><span class="line">    circles = np.uint16(np.around(circles))</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> circles[<span class="number">0</span>,: ]:</span><br><span class="line">       cv.circle(image, (i[<span class="number">0</span>], i[<span class="number">1</span>]), i[<span class="number">2</span>], (<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>), <span class="number">2</span>)</span><br><span class="line">       cv.circle(image, (i[<span class="number">0</span>], i[<span class="number">1</span>]), <span class="number">2</span>, (<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>), <span class="number">2</span>)</span><br><span class="line">    cv.imshow(<span class="string">"ciricle"</span>, image)</span><br></pre></td></tr></table></figure>
<h1 id="轮廓的发现"><a href="#轮廓的发现" class="headerlink" title="轮廓的发现"></a>轮廓的发现</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">直接使用二值图像发现轮廓</span></span><br><span class="line"><span class="string">也可以先提取轮廓</span></span><br><span class="line"><span class="string">然后再使用findContours</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">contours_demo</span><span class="params">(image)</span>:</span></span><br><span class="line">    gray = cv.cvtColor(image, cv.COLOR_BGR2GRAY)</span><br><span class="line">    ret, binary = cv.threshold(gray, <span class="number">0</span>, <span class="number">255</span>, cv.THRESH_BINARY | cv.THRESH_OTSU)</span><br><span class="line">    cv.imshow(<span class="string">"binary"</span>, binary)</span><br><span class="line"></span><br><span class="line">    contours, hierachy= cv.findContours(gray ,cv.RETR_EXTERNAL,cv.CHAIN_APPROX_SIMPLE)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i, contours <span class="keyword">in</span> enumerate(contours):</span><br><span class="line">        cv.drawContours(image, contours, i, (<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>), <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">    cv.imshow(<span class="string">"detect Contours"</span>, image)</span><br></pre></td></tr></table></figure>
<h1 id="对象测量"><a href="#对象测量" class="headerlink" title="对象测量"></a>对象测量</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">measure_object</span><span class="params">(image)</span>:</span></span><br><span class="line">    gray = cv.cvtColor(image, cv.COLOR_BGR2GRAY)</span><br><span class="line">    ret, binary = cv.threshold(gray, <span class="number">0</span>, <span class="number">255</span>, cv.THRESH_BINARY_INV | cv.THRESH_OTSU)</span><br><span class="line">    cv.imshow(<span class="string">"binary"</span>, binary)</span><br><span class="line">    contours, hierachy = cv.findContours(binary, cv.RETR_EXTERNAL, cv.CHAIN_APPROX_SIMPLE)</span><br><span class="line">    <span class="keyword">for</span> i, contour <span class="keyword">in</span> enumerate(contours):</span><br><span class="line">        area = cv.contourArea(contour)</span><br><span class="line">        x, y, w, h = cv.boundingRect(contour)</span><br><span class="line">        mm = cv.moments(contour)</span><br><span class="line">        type(mm)</span><br><span class="line">        cx = mm[<span class="string">'m10'</span>] / mm[<span class="string">'m00'</span>]</span><br><span class="line">        cy = mm[<span class="string">'m01'</span>] / mm[<span class="string">'m00'</span>]</span><br><span class="line">        cv.circle(image, (np.int(cx), np.int(cy)), <span class="number">3</span>, (<span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>), <span class="number">-1</span>)</span><br><span class="line">        cv.rectangle(image, (x, y), (x+w, y+h), (<span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>), <span class="number">2</span>)</span><br><span class="line">    cv.imshow(<span class="string">"measure_con"</span>, image)</span><br></pre></td></tr></table></figure>
<h1 id="腐蚀与膨胀"><a href="#腐蚀与膨胀" class="headerlink" title="腐蚀与膨胀"></a>腐蚀与膨胀</h1><p>腐蚀与膨胀支持彩色照片</p>
<h2 id="腐蚀"><a href="#腐蚀" class="headerlink" title="腐蚀"></a>腐蚀</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#腐蚀</span><br><span class="line">def erode_demo(image):</span><br><span class="line">    gray = cv.cvtColor(image, cv.COLOR_BGR2GRAY)</span><br><span class="line">    ret, binary = cv.threshold(gray, 0, 255, cv.THRESH_BINARY_INV | cv.THRESH_OTSU)</span><br><span class="line">    kernal = cv.getStructuringElement(cv.MORPH_RECT, (5, 5))</span><br><span class="line">    dst = cv.erode(binary, kernal)</span><br><span class="line">    cv.imshow(&quot;erode&quot;, dst)</span><br></pre></td></tr></table></figure>
<h2 id="膨胀"><a href="#膨胀" class="headerlink" title="膨胀"></a>膨胀</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#膨胀</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dilate_demo</span><span class="params">(image)</span>:</span></span><br><span class="line">    gray = cv.cvtColor(image, cv.COLOR_BGR2GRAY)</span><br><span class="line">    ret, binary = cv.threshold(gray, <span class="number">0</span>, <span class="number">255</span>, cv.THRESH_BINARY_INV | cv.THRESH_OTSU)</span><br><span class="line">    kernal = cv.getStructuringElement(cv.MORPH_RECT, (<span class="number">5</span>, <span class="number">5</span>))</span><br><span class="line">    dst = cv.dilate(binary, kernal)</span><br><span class="line">    cv.imshow(<span class="string">"dilate"</span>, dst)</span><br></pre></td></tr></table></figure>
<h1 id="开闭操作"><a href="#开闭操作" class="headerlink" title="开闭操作"></a>开闭操作</h1><h2 id="开操作"><a href="#开操作" class="headerlink" title="开操作"></a>开操作</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">开操作尽量保留原结构</span></span><br><span class="line"><span class="string">删除其他区域小的干扰块</span></span><br><span class="line"><span class="string">可以提取水平/垂直的线</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">open_demo</span><span class="params">(image)</span>:</span></span><br><span class="line">    gray = cv.cvtColor(image, cv.COLOR_BGR2GRAY)</span><br><span class="line">    ret, binary = cv.threshold(gray, <span class="number">0</span>, <span class="number">255</span>, cv.THRESH_BINARY_INV | cv.THRESH_OTSU)</span><br><span class="line">    cv.imshow(<span class="string">"binaary"</span>, binary)</span><br><span class="line">    kernel = cv.getStructuringElement(cv.MORPH_RECT, (<span class="number">5</span>, <span class="number">5</span>))</span><br><span class="line">    cv.morphologyEx(binary, cv.MORPH_OPEN, kernel)</span><br><span class="line">    cv.imshow(<span class="string">"open_result"</span>, binary)</span><br></pre></td></tr></table></figure>
<h2 id="闭操作"><a href="#闭操作" class="headerlink" title="闭操作"></a>闭操作</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">闭操作可以填充封闭块</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">close_demo</span><span class="params">(image)</span>:</span></span><br><span class="line">    gray = cv.cvtColor(image, cv.COLOR_BGR2GRAY)</span><br><span class="line">    ret, binary = cv.threshold(gray, <span class="number">0</span>, <span class="number">255</span>, cv.THRESH_BINARY_INV | cv.THRESH_OTSU)</span><br><span class="line">    cv.imshow(<span class="string">"binaary"</span>, binary)</span><br><span class="line">    kernel = cv.getStructuringElement(cv.MORPH_RECT, (<span class="number">15</span>, <span class="number">15</span>))</span><br><span class="line">    cv.morphologyEx(binary, cv.MORPH_CLOSE, kernel)</span><br><span class="line">    cv.imshow(<span class="string">"close_result"</span>, binary)</span><br></pre></td></tr></table></figure>
<h1 id="人脸检测API简单调用"><a href="#人脸检测API简单调用" class="headerlink" title="人脸检测API简单调用"></a>人脸检测API简单调用</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2 <span class="keyword">as</span> cv</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">face_detect_demo</span><span class="params">(image)</span>:</span></span><br><span class="line">    gray = cv.cvtColor(image, cv.COLOR_BGR2GRAY)</span><br><span class="line">    face_detector = cv.CascadeClassifier(<span class="string">"D:/OpenCV/opencv/build/etc/haarcascades/haarcascade_frontalface_alt_tree.xml"</span>)</span><br><span class="line">    faces = face_detector.detectMultiScale(gray, <span class="number">1.1</span>, <span class="number">2</span>)</span><br><span class="line">    <span class="keyword">for</span> x, y, w, h <span class="keyword">in</span> faces:</span><br><span class="line">        cv.rectangle(image, (x, y), (x+w, y+h), (<span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>), <span class="number">2</span>)</span><br><span class="line">    cv.imshow(<span class="string">"face_detector_result"</span>, image)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(<span class="string">"------------------------hello world----------------------------"</span>)</span><br><span class="line"><span class="comment"># src = cv.imread("E:/Pycharm/opencvTest/princess.jpg")</span></span><br><span class="line">src = cv.imread(<span class="string">"D:OpenCV/opencv/sources/samples/data/lena.jpg"</span>)</span><br><span class="line">cv.imshow(<span class="string">"example"</span>, src)</span><br><span class="line">face_detect_demo(src)</span><br><span class="line"></span><br><span class="line">capture = cv.VideoCapture(<span class="number">0</span>)</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    ret, frame = capture.read()</span><br><span class="line">    frame = cv.flip(frame, <span class="number">1</span>)</span><br><span class="line">    face_detect_demo(frame)</span><br><span class="line">    c = cv.waitKey(<span class="number">10</span>)</span><br><span class="line">    <span class="keyword">if</span> c == <span class="number">27</span>:</span><br><span class="line">        <span class="keyword">break</span> ;</span><br><span class="line"></span><br><span class="line">cv.waitKey(<span class="number">0</span>)</span><br><span class="line">cv.destroyAllWindows()</span><br></pre></td></tr></table></figure>

      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/OpenCV3-3/" rel="tag"># OpenCV3.3</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/05/19/swift学习笔记/" rel="next" title="Swift的学习使用">
                <i class="fa fa-chevron-left"></i> Swift的学习使用
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/05/19/我的第一篇博客/" rel="prev" title="Git的学习使用">
                Git的学习使用 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/myAvatar.JPG#/images/avatar.gif" alt="SilverDancer">
            
              <p class="site-author-name" itemprop="name">SilverDancer</p>
              <div class="site-description motion-element" itemprop="description">心之所向，素履以往</div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives">
                
                    <span class="site-state-item-count">5</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">4</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">4</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/SilverDancer5" title="GitHub &rarr; https://github.com/SilverDancer5" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="mailto:silverdancer@yahoo.com" title="E-Mail &rarr; mailto:silverdancer@yahoo.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://weibo.com/p/1005052362838525/photos?from=page_100505&mod=TAB#place" title="微博 &rarr; https://weibo.com/p/1005052362838525/photos?from=page_100505&mod=TAB#place" rel="noopener" target="_blank"><i class="fa fa-fw fa-weibo"></i>微博</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://space.bilibili.com/14459622?from=search&seid=9598978992763248070" title="BiliBili &rarr; https://space.bilibili.com/14459622?from=search&seid=9598978992763248070" rel="noopener" target="_blank"><i class="fa fa-fw fa-heartbeat"></i>BiliBili</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://www.zhihu.com/people/er-fen-zhi-yi-18/activities" title="知乎 &rarr; https://www.zhihu.com/people/er-fen-zhi-yi-18/activities" rel="noopener" target="_blank"><i class="fa fa-fw fa-globe"></i>知乎</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://www.jianshu.com/u/79d12e22ec53" title="简书 &rarr; https://www.jianshu.com/u/79d12e22ec53" rel="noopener" target="_blank"><i class="fa fa-fw fa-globe"></i>简书</a>
                </span>
              
            </div>
          

          

          
          

          
            
          
          

        </div>
      </div>

      
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#OpenCV-3-3基础-Python版本"><span class="nav-number">1.</span> <span class="nav-text">OpenCV 3.3基础 Python版本</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#图像加载与保存"><span class="nav-number">2.</span> <span class="nav-text">图像加载与保存</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#基本调用"><span class="nav-number">2.0.1.</span> <span class="nav-text">基本调用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#获取图片信息"><span class="nav-number">2.0.2.</span> <span class="nav-text">获取图片信息</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#调用摄像头"><span class="nav-number">2.0.3.</span> <span class="nav-text">调用摄像头</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#色彩转换"><span class="nav-number">2.0.4.</span> <span class="nav-text">色彩转换</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#获取运行时间"><span class="nav-number">2.0.5.</span> <span class="nav-text">获取运行时间</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#创建图片"><span class="nav-number">2.0.6.</span> <span class="nav-text">创建图片</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#色彩空间"><span class="nav-number">2.1.</span> <span class="nav-text">色彩空间</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#色彩通道分离与合并"><span class="nav-number">2.1.1.</span> <span class="nav-text">色彩通道分离与合并</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#色彩空间相互转换"><span class="nav-number">2.1.2.</span> <span class="nav-text">色彩空间相互转换</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#HSV颜色系统简介"><span class="nav-number">2.1.2.1.</span> <span class="nav-text">HSV颜色系统简介</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#inRange的简单使用"><span class="nav-number">2.1.3.</span> <span class="nav-text">inRange的简单使用</span></a></li></ol></li></ol><li class="nav-item nav-level-1"><a class="nav-link" href="#像素运算"><span class="nav-number">3.</span> <span class="nav-text">像素运算</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#图片的加减乘除以及均值方差"><span class="nav-number">3.0.1.</span> <span class="nav-text">图片的加减乘除以及均值方差</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#ROI与泛洪填充"><span class="nav-number">4.</span> <span class="nav-text">ROI与泛洪填充</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#ROI（Region-of-Interest）"><span class="nav-number">4.1.</span> <span class="nav-text">ROI（Region of Interest）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#泛洪填充"><span class="nav-number">4.2.</span> <span class="nav-text">泛洪填充</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#模糊操作"><span class="nav-number">5.</span> <span class="nav-text">模糊操作</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#均值模糊"><span class="nav-number">5.1.</span> <span class="nav-text">均值模糊</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#中值模糊"><span class="nav-number">5.2.</span> <span class="nav-text">中值模糊</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#自定义模糊"><span class="nav-number">5.3.</span> <span class="nav-text">自定义模糊</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#高斯模糊"><span class="nav-number">5.4.</span> <span class="nav-text">高斯模糊</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#边缘保留滤波（EPF）"><span class="nav-number">5.5.</span> <span class="nav-text">边缘保留滤波（EPF）</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#图像直方图（histogram）"><span class="nav-number">6.</span> <span class="nav-text">图像直方图（histogram）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#绘制直方图"><span class="nav-number">6.0.1.</span> <span class="nav-text">绘制直方图</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#直方图的应用"><span class="nav-number">6.0.2.</span> <span class="nav-text">直方图的应用</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#直方图反向投影"><span class="nav-number">6.1.</span> <span class="nav-text">直方图反向投影</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#模板匹配"><span class="nav-number">7.</span> <span class="nav-text">模板匹配</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#图像二值化"><span class="nav-number">8.</span> <span class="nav-text">图像二值化</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#全局阈值"><span class="nav-number">8.1.</span> <span class="nav-text">全局阈值</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#局部阈值"><span class="nav-number">8.2.</span> <span class="nav-text">局部阈值</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#超大图像的二值化处理"><span class="nav-number">8.3.</span> <span class="nav-text">超大图像的二值化处理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#二值化相机"><span class="nav-number">8.4.</span> <span class="nav-text">二值化相机</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#图像金字塔"><span class="nav-number">9.</span> <span class="nav-text">图像金字塔</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#图像梯度"><span class="nav-number">10.</span> <span class="nav-text">图像梯度</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#索贝尔算子"><span class="nav-number">10.1.</span> <span class="nav-text">索贝尔算子</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#拉普拉斯算子"><span class="nav-number">10.2.</span> <span class="nav-text">拉普拉斯算子</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Canny边缘提取算法"><span class="nav-number">11.</span> <span class="nav-text">Canny边缘提取算法</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#霍夫直线检测"><span class="nav-number">12.</span> <span class="nav-text">霍夫直线检测</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#霍夫圆检测"><span class="nav-number">13.</span> <span class="nav-text">霍夫圆检测</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#轮廓的发现"><span class="nav-number">14.</span> <span class="nav-text">轮廓的发现</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#对象测量"><span class="nav-number">15.</span> <span class="nav-text">对象测量</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#腐蚀与膨胀"><span class="nav-number">16.</span> <span class="nav-text">腐蚀与膨胀</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#腐蚀"><span class="nav-number">16.1.</span> <span class="nav-text">腐蚀</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#膨胀"><span class="nav-number">16.2.</span> <span class="nav-text">膨胀</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#开闭操作"><span class="nav-number">17.</span> <span class="nav-text">开闭操作</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#开操作"><span class="nav-number">17.1.</span> <span class="nav-text">开操作</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#闭操作"><span class="nav-number">17.2.</span> <span class="nav-text">闭操作</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#人脸检测API简单调用"><span class="nav-number">18.</span> <span class="nav-text">人脸检测API简单调用</span></a></li></div>
            

          </div>
        </div>
      <!--/noindex-->
      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2017 – <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">SilverDancer</span>

  

  
</div>


  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.1.1</div>




        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="post-meta-item-icon">
      <i class="fa fa-user"></i>
    </span>
    <span class="site-uv" title="总访客量">
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
    </span>
  

  
    <span class="post-meta-divider">|</span>
  

  
    <span class="post-meta-item-icon">
      <i class="fa fa-eye"></i>
    </span>
    <span class="site-pv" title="总访问量">
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
    </span>
  
</div>









        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>














  
    
    
  
  <script color="0,0,255" opacity="0.5" zindex="-1" count="99" src="/lib/canvas-nest/canvas-nest.min.js"></script>













  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/utils.js?v=7.1.1"></script>

  <script src="/js/motion.js?v=7.1.1"></script>



  
  


  <script src="/js/affix.js?v=7.1.1"></script>

  <script src="/js/schemes/pisces.js?v=7.1.1"></script>




  
  <script src="/js/scrollspy.js?v=7.1.1"></script>
<script src="/js/post-details.js?v=7.1.1"></script>



  


  <script src="/js/next-boot.js?v=7.1.1"></script>


  

  

  

  


  


  




  

  

  

  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
